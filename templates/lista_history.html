{%extends 'base.html'%}
{%load l10n%}
{%load crispy_forms_tags%}
{%block title%}Listado Terceros{%endblock%}
{%block content%}
<div class='container-lg bg-white shadow rounded'>
    <h4><i class="fas fa-history"></i> Historial de Acciones
        
        <button type='button' class='btn btn-outline-success float-right' style='margin-right: 1rem;'><i
                class="far fa-file-excel"></i> Exportar</button></h4>
    <br>
    <div class='table-responsive'>
        <table id='tablaHistory' class='striped hover compact row-border' style='width: 100%;'>
            <thead>
                <tr>
                    <th class='text-center'>Id</th>
                    <th class='text-center'>Fecha</th>
                    <th class='text-center'>Usuario</th>
                    <th class='text-center'>Modulo</th>
                    <th class='text-center'>Accion</th>
                </tr>
            </thead>
            <tbody>
                {%for accion in acciones%}
                <tr>
                    <td class='text-center'>{{accion.pk|unlocalize}}</td>
                    <td class='text-center'>{{accion.fecha|date:'d/m/Y'}}</td>
                    <td class='text-center'>{{accion.usuario}}</td>
                    <td class='text-center'>{{accion.modulo}}</td>
                    <td>{{accion.accion}}</td>
                </tr>
                {%endfor%}
            </tbody>
        </table>
    </div>
</div>


<script>
    var tablaHistory=$('#tablaHistory').DataTable({
        "order": [[ 0, "desc" ]]
    })
</script>
{%endblock%}